<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Calculator</title>

    <style>

        .main{
            display: block;
            
            height: 80vh;
            
        }

        .inputNumber{

            margin-top: 15px;
            border-radius: 10px;
            padding: 7px;
            border-color: blueviolet;
        }

        .buttons{
            margin-top: 35px;
        }

        .btn{
            margin-top: 10px;
        }
        
    </style>


  </head>
  <body>


    <% 
       if(resp != "" ){ 
        var res = resp.split("="); 
        var nos = res[1].split("+");
        var answer;
        console.log(type);

        if(type=="add"){answer = add(nos);}
        else if(type=="sub"){answer = sub(nos);}
        else if(type=="mul"){answer = mul(nos);}
        else if(type=="div"){answer = div(nos);}
        else{ return;}
        
    
        function div(arr){

            if(arr.length > 2){
                return "you can only input 2 numbers!!";}
            
            else if (arr[1] == 0){
                return "Value cannot divide by 0";}
            
            else{
                return arr[0] / arr[1]; }

        }



        function mul(arr){
          var mul=1;
          for (let index = 0; index < arr.length; index++) {
             mul = parseInt(mul) * parseInt(arr[index]);}
             return mul;
        }



        function sub(arr){
            if(arr.length > 2){
                return "You enter wrong data";
            }
            else{
                return arr[0] - arr[1];
            }
        }


        function add(arr){
         var sum=0; 
         for(let i=0; i< arr.length; i++) {sum = parseInt(arr[i]) + parseInt(sum);}
         return sum;}
     
        }
    %>


    
    <center>
    <div class="container">
    
            <h1>Calculator</h1>

            <div class="main">

                    <form  method="get">

                            <input type="text" name="number" required placeholder="Enter Number here" class="inputNumber">
                            
                                <div class="row  row-cols-1 row-cols-sm-2 row-cols-md-4 buttons">
                                  <div class="col"><input type="submit"  value="addition"       class="btn btn-primary"  formaction="/add" />  </div>
                                  <div class="col"><input type="submit"  value="substaction"    class="btn btn-warning"  formaction="/sub" />  </div>
                                  <div class="col"><input type="submit"  value="multiplication" class="btn btn-info"     formaction="/mul" />  </div>
                                  <div class="col"><input type="submit"  value="division"       class="btn btn-success"  formaction="/div" />  </div>
                                </div>
                            
                    </form>
                    
            </div>


            <div class="answer">

                <p>answer is <%=answer %> </p>


            </div>

    </div>
</center>

 

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

   
  </body>
</html>